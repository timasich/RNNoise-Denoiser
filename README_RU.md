RNNoise Denoiser (Windows, .NET 8) ‚Äî –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è

–õ–æ–∫–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–µ—á–µ–≤–æ–≥–æ –∞—É–¥–∏–æ –≤ –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ —á–µ—Ä–µ–∑ FFmpeg‚Äë—Ñ–∏–ª—å—Ç—Ä arnndn (RNNoise). WinForms‚Äë–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –Ω–µ –Ω—É–∂–µ–Ω.


‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ

–ú–æ–∂–Ω–æ –Ω–µ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ ‚Äî —á–∏—Å—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ

–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —Ü–µ–ø–æ—á–∫–∞: highpass / lowpass ‚Üí aresample=48000 ‚Üí arnndn (RNNoise) ‚Üí speechnorm

–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–µ—Å–µ—Ç–∞–º (Soft/Standard/Aggressive)

Drag & drop, –ø—É—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è


üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

Windows 10/11

.NET 8 Desktop Runtime

FFmpeg —Å —Ñ–∏–ª—å—Ç—Ä–æ–º arnndn

–ú–æ–¥–µ–ª—å RNNoise (.rnnn)


üîΩ –ì–¥–µ —Å–∫–∞—á–∞—Ç—å FFmpeg –∏ –º–æ–¥–µ–ª–∏ RNNoise

FFmpeg (Windows-—Å–±–æ—Ä–∫–∏):

–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: https://ffmpeg.org/download.html

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–±–æ—Ä–∫–∏ —Å arnndn:

Gyan.dev (Full build): https://www.gyan.dev/ffmpeg/builds/

BtbN FFmpeg-Builds: https://github.com/BtbN/FFmpeg-Builds

RNNoise (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ –º–æ–¥–µ–ª–∏):

–ü—Ä–æ–µ–∫—Ç RNNoise: https://github.com/xiph/rnnoise

–ü—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è arnndn:

arnndn-models: https://github.com/richardpl/arnndn-models (–Ω–∞—á–Ω–∏—Ç–µ —Å std.rnnn)

–°–æ–æ–±—â–µ—Å—Ç–≤–æ: https://github.com/GregorR/rnnoise-models

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–µ—Ä—Å–∏—è–º: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ FFmpeg 6.x –∏–ª–∏ 7.x (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π). –ï—Å–ª–∏ –æ–ø—Ü–∏–∏ mix –Ω–µ—Ç ‚Äî –æ–±–Ω–æ–≤–∏—Ç–µ FFmpeg –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —É–±–µ—Ä–∏—Ç–µ :mix= –∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞.


üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ .NET 8 Desktop Runtime (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω).

–°–∫–∞—á–∞–π—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ FFmpeg. –ó–∞–ø–æ–º–Ω–∏—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ bin (–Ω–∞–ø—Ä–∏–º–µ—Ä, C:\Tools\ffmpeg\bin).

–°–∫–∞—á–∞–π—Ç–µ –º–æ–¥–µ–ª—å RNNoise (–Ω–∞–ø—Ä–∏–º–µ—Ä, std.rnnn) –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –ø–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É –ø—É—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, C:\Tools\rnnoise\models\std.rnnn).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —É–∫–∞–∂–∏—Ç–µ —ç—Ç–∏ –ø—É—Ç–∏ –≤ –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏.


üñ±Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–£–∫–∞–∂–∏—Ç–µ –ø—É—Ç–∏ –∫ ffmpeg/bin –∏ —Ñ–∞–π–ª—É –º–æ–¥–µ–ª–∏ .rnnn.

–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã (–≤–∏–¥–µ–æ/–∞—É–¥–∏–æ) –≤ –æ—á–µ—Ä–µ–¥—å (–∫–Ω–æ–ø–∫–∏ –∏–ª–∏ drag & drop).

–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É –≤—ã–≤–æ–¥–∞, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ mix/—Ñ–∏–ª—å—Ç—Ä—ã ‚Üí –°—Ç–∞—Ä—Ç.

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–µ–æ –ø–æ—Ç–æ–∫ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è, —á–∏—Å—Ç–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ.


üî¨ –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

:: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ arnndn
ffmpeg -hide_banner -filters | findstr arnndn
ffmpeg -hide_banner -h filter=arnndn

:: –ü—Ä–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫ (–ø–æ–ø—Ä–∞–≤—å—Ç–µ –ø—É—Ç–∏; –Ω–∞ Windows –ª—É—á—à–µ —Å–ª–µ—à–∏ –≤–ø–µ—Ä—ë–¥)
ffmpeg -i "input.wav" -af aresample=48000,arnndn=m=C:/Tools/rnnoise/models/std.rnnn -ar 48000 "out.wav"


‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø—Ä–µ—Å–µ—Ç—ã

Soft: mix=0.90

Standard: mix=0.85 (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

Aggressive: mix=0.70 + highpass=80 + lowpass=12000

–ü–æ–¥—Å–∫–∞–∑–∫–∞: –µ—Å–ª–∏ –∑–≤—É–∫ ¬´–ø–æ–¥–≤–æ–¥–Ω—ã–π¬ª, –ø–æ–¥–Ω–∏–º–∏—Ç–µ mix –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –º—è–≥–∫–∏–π lowpass (11‚Äì13 –∫–ì—Ü). –î–µ—Ä–∂–∏—Ç–µ aresample=48000 –ø–µ—Ä–µ–¥ arnndn.


üß© –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫—Ä–∞—Ç–∫–æ)

arnndn –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∫–æ–º–ø–∞–∫—Ç–Ω—É—é RNN‚Äë–º–æ–¥–µ–ª—å (.rnnn) –¥–ª—è –ø–æ–¥–∞–≤–ª–µ–Ω–∏—è —à—É–º–æ–≤ –≤–Ω–µ —Ä–µ—á–∏.

–ü–µ—Ä–µ–¥ RNNoise —Ä–µ—Å–µ–º–ø–ª–∏–º –¥–æ 48 –∫–ì—Ü, –ø–æ—Å–ª–µ ‚Äî –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º —Ä–µ—á—å (speechnorm).

–î–ª—è –≤–∏–¥–µ–æ –º–æ–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫; –ø–µ—Ä–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞—É–¥–∏–æ.


üß∞ Troubleshooting

FFmpeg code -22 (Invalid argument)

–ß–∞—â–µ –≤—Å–µ–≥–æ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏ –≤ arnndn.

–ù–∞ Windows –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–¥–∏–Ω–∞—Ä–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏; –ø–∏—à–∏—Ç–µ —Ç–∞–∫: m=C:/path/to/model.rnnn.

–ï—Å–ª–∏ –≤—Å—è —Å—Ç—Ä–æ–∫–∞ -af –≤–∑—è—Ç–∞ –≤ –∫–∞–≤—ã—á–∫–∏, —É–±–µ—Ä–∏—Ç–µ –∏—Ö –ø—Ä–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.

Option 'mix' not found'

–°—Ç–∞—Ä–∞—è —Å–±–æ—Ä–∫–∞ FFmpeg –∏–ª–∏ –±–µ–∑ —ç—Ç–æ–π –æ–ø—Ü–∏–∏. –û–±–Ω–æ–≤–∏—Ç–µ FFmpeg –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ —É–±–µ—Ä–∏—Ç–µ :mix=.

No such filter: 'arnndn'

–°–±–æ—Ä–∫–∞ FFmpeg –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞. –ü–æ—Å—Ç–∞–≤—å—Ç–µ —Å–±–æ—Ä–∫—É, –≥–¥–µ arnndn –µ—Å—Ç—å (Gyan Full / BtbN).

Error opening model / No such file or directory

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –º–æ–¥–µ–ª–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º—ã–µ —Å–ª–µ—à–∏ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω.

–ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã / ¬´–ø–æ–¥–≤–æ–¥–Ω—ã–π¬ª –∑–≤—É–∫

–£–≤–µ–ª–∏—á—å—Ç–µ mix (0.85 ‚Üí 0.9). –î–æ–±–∞–≤—å—Ç–µ lowpass=11000‚Äì13000. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é .rnnn‚Äë–º–æ–¥–µ–ª—å.

–†–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è -shortest –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ. –ï—Å–ª–∏ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω –æ—Å—Ç–∞—ë—Ç—Å—è ‚Äî –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–º—É–∫—Å/–ø–µ—Ä–µ‚Äë–∫–æ–¥ –∞—É–¥–∏–æ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º –±–∏—Ç—Ä–µ–π—Ç–æ–º.


üì¶ –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)

Visual Studio 2022 –∏–ª–∏ dotnet build -c Release

–ü—É–±–ª–∏–∫–∞—Ü–∏—è: dotnet publish -c Release -r win-x64 --self-contained false -p:PublishSingleFile=false


üîê –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å

–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ. –ê—É–¥–∏–æ –Ω–∏–∫—É–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è.


‚òï –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞
–ï—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —ç–∫–æ–Ω–æ–º–∏—Ç –≤–∞–º –≤—Ä–µ–º—è ‚Äî –º–æ–∂–Ω–æ –ø–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

- Ko-fi: https://ko-fi.com/timasich
- Donation Alerts: https://www.donationalerts.com/r/timasich

–°–ø–∞—Å–∏–±–æ! ‚ù§Ô∏è


üìñ –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–∫—Ä–∞—Ç–∫–æ)
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç **–ª–æ–∫–∞–ª—å–Ω–æ** –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **FFmpeg** –∏ –≤–Ω–µ—à–Ω–∏–µ **RNNoise-–º–æ–¥–µ–ª–∏**. –í—ã —Å–∞–º–∏ —Å–æ–±–ª—é–¥–∞–µ—Ç–µ –∏—Ö –ª–∏—Ü–µ–Ω–∑–∏–∏.
- –ü–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è **¬´–∫–∞–∫ –µ—Å—Ç—å¬ª**, –±–µ–∑ –≥–∞—Ä–∞–Ω—Ç–∏–π –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Ä–∏—Å–∫.
- –ü—Ä–æ–µ–∫—Ç **–Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç** FFmpeg –∏ –º–æ–¥–µ–ª–∏ RNNoise; –ø—É—Ç–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç–µ –≤—ã.


üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT. –ü—Ä–æ–µ–∫—Ç –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç FFmpeg –∏ –º–æ–¥–µ–ª–∏ RNNoise; –ø—É—Ç–∏ –∑–∞–¥–∞—ë—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.
